webpackJsonp([47],{OIdf:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("lC5x"),n=t.n(a),s=t("J0Oq"),o=t.n(s),u={data:function(){var e,r=this,t=(e=o()(n.a.mark(function e(t,a,s){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^1[1-9]\d{9}$/.test(a)){e.next=12;break}return e.prev=1,e.next=4,r.$http.get("http://ums.17link.cc/user/getUserByUserName.do?username="+r.userForm.username);case 4:s(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),setTimeout(function(){s(new Error(e.t0.message))},3e3);case 10:e.next=13;break;case 12:s(new Error("请输入有效的手机号码"));case 13:case"end":return e.stop()}},e,r,[[1,7]])})),function(r,t,a){return e.apply(this,arguments)});return{userForm:{name:"",username:"",type:"",orgName:window._dataInfo.orgName,orgId:window._dataInfo.orgId,addUserId:window._dataInfo.id,addUserName:window._dataInfo.name},id:"",ifShow:!0,rules:{name:[{required:!0,message:"用户姓名不能为空"}],username:[{type:"number",required:!0,message:"请输入电话号码",trigger:"blur"},{validator:t,trigger:"blur"}]},showDialog:!1}},components:{PageContainer:t("rppN").a},methods:{save:function(e){var r,t=this;this.$refs.form.validate((r=o()(n.a.mark(function r(a){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a&&t.$http.post("http://ums.17link.cc/user/addUser.do",t.userForm).then(function(r){if(0===r.data.errCode){var a=r.data.data.id;e?t.$refs.form.resetFields():t.$router.push({path:"/inst/AccountInfo",query:{id:a}})}else alert(r.data.errMessage)});case 1:case"end":return r.stop()}},r,t)})),function(e){return r.apply(this,arguments)}))}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("page-container",{attrs:{title:"添加子账号","show-back-btn":""}},[t("el-form",{ref:"form",staticClass:"info-container",attrs:{model:e.userForm,"label-position":"left","label-width":"100px",rules:e.rules}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{model:{value:e.userForm.name,callback:function(r){e.$set(e.userForm,"name",r)},expression:"userForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号",prop:"username"}},[t("el-input",{model:{value:e.userForm.username,callback:function(r){e.$set(e.userForm,"username",e._n(r))},expression:"userForm.username"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:" "}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.save(!1)}}},[e._v("保存")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.save(!0)}}},[e._v("保存下一条")])],1)],1)],1)},staticRenderFns:[]},l=t("/Xao")(u,i,!1,null,null,null);r.default=l.exports}});