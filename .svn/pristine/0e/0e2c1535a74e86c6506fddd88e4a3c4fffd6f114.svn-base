webpackJsonp([18],{"/bmf":function(t,a,e){(t.exports=e("BkJT")(!1)).push([t.i,"\n.must .el-form-item__label::before {\n  content: '*';\n  color: #ff4949;\n  margin-right: 4px;\n  margin-left: 10px;\n}\n",""])},"8I40":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("lC5x"),r=e.n(i),s=e("J0Oq"),n=e.n(s),d={name:"eArea",props:["curNum","ifEdit","data","check"],data:function(){return{areaData:{provinceId:"",provinceName:"",cityId:"",cityName:"",zoneId:"",zoneName:"",streetId:"",streetName:"",community:"",detailedAddress:""},provinces:[],cities:[],areas:[],streets:[],ruls:[]}},created:function(){this.getProvinces(),this.data&&this.ifEdit&&(this.areaData.provinceId=parseInt(this.data.provinceId),this.areaData.provinceName=this.data.provinceName,this.areaData.cityId=parseInt(this.data.cityId),this.areaData.cityName=this.data.cityName,this.areaData.zoneId=parseInt(this.data.zoneId),this.areaData.zoneName=this.data.zoneName,this.areaData.streetId=parseInt(this.data.streetId),this.areaData.streetName=this.data.streetName,this.areaData.community=this.data.community,this.areaData.detailedAddress=this.data.detailedAddress)},mounted:function(){},methods:{getProvinces:function(){var t=this;return n()(r.a.mark(function a(){var e,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.get("http://ums.17link.cc/city/getAllProvince.do",{withCredentials:!0});case 3:e=a.sent,i=e.data.data.list,t.provinces=i,t.ifEdit&&t.data&&(t.areaData.provinceId=parseInt(t.data.provinceId)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,t,[[0,9]])}))()},getCities:function(){var t=this;return n()(r.a.mark(function a(){var e,i,s,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("http://ums.17link.cc/city/getCityByPid.do?pid="+t.areaData.provinceId,{withCredentials:!0});case 2:e=a.sent,i=e.data.data.list,s=t,(n=t.provinces.filter(function(t){return t.id==s.areaData.provinceId})).length>0&&n[0].name&&(t.areaData.provinceName=n[0].name),t.cities=i,t.ifEdit&&(t.areaData.cityId=parseInt(t.data.cityId)),t.selectChange();case 10:case"end":return a.stop()}},a,t)}))()},getAreas:function(){var t=this;return n()(r.a.mark(function a(){var e,i,s,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.get("http://ums.17link.cc/city/getCityByPid.do?pid="+t.areaData.cityId,{withCredentials:!0});case 3:e=a.sent,i=e.data.data.list,t.areas=i,s=t,(n=t.cities.filter(function(t){return t.id==s.areaData.cityId})).length>0&&n[0].name&&(t.areaData.cityName=n[0].name),t.ifEdit&&(t.areaData.zoneId=parseInt(t.data.zoneId)),t.selectChange(),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}},a,t,[[0,13]])}))()},getStreets:function(){var t=this;return n()(r.a.mark(function a(){var e,i,s,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.get("http://ums.17link.cc/city/getCityByPid.do?pid="+t.areaData.zoneId,{withCredentials:!0});case 3:e=a.sent,i=e.data.data.list,t.streets=i,s=t,(n=t.areas.filter(function(t){return t.id==s.areaData.zoneId})).length>0&&n[0].name&&(t.areaData.zoneName=n[0].name),t.ifEdit&&(t.areaData.streetId=parseInt(t.data.streetId)),t.selectChange(),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}},a,t,[[0,13]])}))()},selectChange:function(){var t=this;if(this.areaData.streetId){var a=this.streets.filter(function(a){return a.id===t.areaData.streetId});a.length&&a.length>0&&a[0].name&&(this.areaData.streetName=a[0].name)}this.$emit("select-change",this.areaData,this.curNum)},reSet:function(){this.areaData={provinceId:"",provinceName:"",cityId:"",cityName:"",zoneId:"",zoneName:"",streetId:"",streetName:""}}},watch:{data:function(){this.getProvinces(),this.ifEdit&&(this.areaData.provinceId=parseInt(this.data.provinceId),this.areaData.provinceName=this.data.provinceName,this.areaData.cityId=parseInt(this.data.cityId),this.areaData.cityName=this.data.cityName,this.areaData.zoneId=parseInt(this.data.zoneId),this.areaData.zoneName=this.data.zoneName,this.areaData.streetId=parseInt(this.data.streetId),this.areaData.streetName=this.data.streetName,this.areaData.community=this.data.community,this.areaData.detailedAddress=this.data.detailedAddress)},"areaData.provinceId":function(){this.ifEdit||(this.areaData.cityId="",this.areaData.zoneId="",this.areaData.streetId="",this.cities=[],this.areas=[],this.streets=[]);try{if(!this.areaData.provinceId)return!1;this.getCities()}catch(t){console.log(t)}},"areaData.cityId":function(){if(this.ifEdit||(this.areaData.zoneId="",this.areaData.streetId="",this.areas=[],this.streets=[]),!this.areaData.cityId)return!1;this.getAreas()},"areaData.zoneId":function(){if(this.ifEdit||(this.areaData.streetId="",this.streets=[]),!this.areaData.zoneId)return!1;this.getStreets()},"areaData.community":function(){this.selectChange()},"areaData.detailedAddress":function(){this.selectChange()}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{class:{must:this.check},attrs:{gutter:20}},[e("el-col",{attrs:{span:3}},[e("el-select",{attrs:{disabled:t.ifEdit,placeholder:"请选择"},model:{value:t.areaData.provinceId,callback:function(a){t.$set(t.areaData,"provinceId",a)},expression:"areaData.provinceId"}},[e("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.provinces,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),e("el-col",{attrs:{span:3}},[e("el-select",{attrs:{disabled:t.ifEdit,placeholder:"请选择","label-width":"0"},model:{value:t.areaData.cityId,callback:function(a){t.$set(t.areaData,"cityId",a)},expression:"areaData.cityId"}},[e("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.cities,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),e("el-col",{attrs:{span:3}},[e("el-select",{attrs:{disabled:t.ifEdit,placeholder:"请选择","label-width":"0"},model:{value:t.areaData.zoneId,callback:function(a){t.$set(t.areaData,"zoneId",a)},expression:"areaData.zoneId"}},[e("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areas,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),e("el-col",{attrs:{span:3}},[e("el-select",{attrs:{disabled:t.ifEdit,placeholder:"请选择","label-width":"0"},on:{change:t.selectChange},model:{value:t.areaData.streetId,callback:function(a){t.$set(t.areaData,"streetId",a)},expression:"areaData.streetId"}},[e("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.streets,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),e("el-col",{attrs:{span:3}},[e("el-input",{attrs:{disabled:t.ifEdit,placeholder:"请输入所在社区"},model:{value:t.areaData.community,callback:function(a){t.$set(t.areaData,"community",a)},expression:"areaData.community"}})],1),t._v(" "),e("el-col",{attrs:{span:5}},[e("el-input",{attrs:{disabled:t.ifEdit,placeholder:"请输入详细地址"},model:{value:t.areaData.detailedAddress,callback:function(a){t.$set(t.areaData,"detailedAddress",a)},expression:"areaData.detailedAddress"}})],1)],1)},staticRenderFns:[]};var o=e("/Xao")(d,c,!1,function(t){e("gASX")},null,null);a.default=o.exports},gASX:function(t,a,e){var i=e("/bmf");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("8bSs")("29c23959",i,!0)}});