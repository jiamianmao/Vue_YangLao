webpackJsonp([16,30],{"+LZb":function(t,e,o){var l=o("LYLj");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);o("8bSs")("b29a11fa",l,!0)},"1hHR":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"popup",props:["form"],data:function(){return{curform:{name:"",mask:"",value:"",pid:"0"},rules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],mask:[{required:!0,message:"请输入菜单掩码",trigger:"blur"}],value:[{required:!0,message:"请输入菜单对应值",trigger:"blur"}],pid:[{required:!0,message:"请输入菜单对应值",trigger:"blur"}]},options:[],formLabelWidth:"120px",isShow:!0,hasclose:!1,isMode:!1}},components:{},created:function(){0===this.options.length&&this.getAllSys(),""!==this.form&&(this.curform=this.form)},methods:{cliConfirm:function(){this.$emit("pop-click",this.curform,this)},cliCancle:function(){this.$emit("pop-click")},getSys:function(){this.curform.sysName=this.form.funcId},getAllSys:function(){var t=this;this.$http.get("http://ums.17link.cc/func/getOneLevelFunc.do").then(function(e){t.options=e.data.data.funcs}).catch(function(t){return console.log})}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popUp"},[o("el-dialog",{staticClass:"dialog",attrs:{title:"添加菜单",visible:t.isShow,"show-close":t.hasclose,"lock-scroll":!0,"close-on-click-modal":!1,modal:!0}},[o("el-form",{attrs:{model:t.curform,rules:t.rules}},[o("el-form-item",{attrs:{label:"菜单名称","label-width":t.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.curform.name,callback:function(e){t.$set(t.curform,"name",e)},expression:"curform.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"菜单掩码","label-width":t.formLabelWidth,prop:"mask"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.curform.mask,callback:function(e){t.$set(t.curform,"mask",e)},expression:"curform.mask"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"权限对应值","label-width":t.formLabelWidth,prop:"value"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.curform.value,callback:function(e){t.$set(t.curform,"value",e)},expression:"curform.value"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属系统","label-width":t.formLabelWidth,prop:"pid"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.curform.pid,callback:function(e){t.$set(t.curform,"pid",e)},expression:"curform.pid"}},[o("el-option",{attrs:{label:"无",value:"0"}}),t._v(" "),t._l(t.options,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cliCancle}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.cliConfirm}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=o("/Xao")(l,a,!1,function(t){o("+LZb")},null,null);e.default=r.exports},CJw0:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=o("rppN"),a={data:function(){return{activeName2:"first",showDialog:"",tableData:[],functionId:"",form:""}},components:{popup:o("1hHR").default,PageContainer:l.a},created:function(){this.getData()},methods:{dialogClick:function(){for(var t=this,e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];if(o.length>0){var a=arguments[0];if(""===a.name.trim())return alert("菜单名称不能为空"),!1;if(""===a.mask.trim())return void alert("菜单掩码不能为空");if(""===a.value.trim())return void alert("权限对应值不能为空");0===a.pid?a.level=1:a.level=2,a.hasOwnProperty("pName")&&delete a.pName,this.$http.post("http://ums.17link.cc/func/saveFunc.do",a).then(function(e){t.getData()}).catch(function(t){return console.log})}this.showDialog=!1},openPop:function(){this.form="",this.showDialog=!0},edit:function(t,e){this.form=e[t],this.showDialog=!0},getData:function(){var t=this;this.$http.get("http://ums.17link.cc/func/funcList.do").then(function(e){var o=e.data.data;t.tableData=o.funcs}).catch(function(t){return console.log})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pageContainer",{staticClass:"app-container",attrs:{title:"菜单权限"}},[o("el-row",{staticClass:"info-container"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openPop}},[t._v("添加菜单权限")])],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[o("el-table-column",{attrs:{prop:"id",label:"菜单编码",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"菜单名称",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"level",label:"菜单级别",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mask",label:"菜单掩码",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"value",label:"权限对应值",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.edit(e.$index,t.tableData)}}},[t._v("编辑")])]}}])})],1),t._v(" "),t.showDialog?o("div",[o("popup",{attrs:{form:t.form},on:{"pop-click":t.dialogClick}})],1):t._e()],1)},staticRenderFns:[]},i=o("/Xao")(a,r,!1,null,null,null);e.default=i.exports},LYLj:function(t,e,o){(t.exports=o("BkJT")(!1)).push([t.i,"\n.popUp .dialog {\n  /*position: absolute;*/\n  /*top: 300px;*/\n  /*left: 30%;*/\n}\n",""])}});