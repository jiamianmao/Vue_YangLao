webpackJsonp([44],{duGv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("rppN"),s=a("q4RA"),n=a("qn+5"),o={data:function(){return{httpUrl:"/org/updateOrgState.do",pageUrl:"/pt/OrgInfo",userForm:{name:"",status:"",provinceId:"",cityId:"",countryId:"",streetId:"",pageNum:1},tableEles:[{value:"name",name:"机构名称",ifLink:!0},{value:"represent",name:"法人代表",ifLink:!1},{value:"phone",name:"法人电话",ifLink:!1},{value:"level",name:"机构等级",ifLink:!1},{value:"status",name:"机构状态",ifLink:!1}],totalPage:1,data:[],query:""}},components:{lists:s.a,cityArea:n.a,PageContainer:r.a},created:function(){this.getLists()},methods:{getQuery:function(t){var e="";for(var a in t)e+=a+"="+t[a]+"&";return e=e&&e.slice(0,-1)},selectChange:function(t){this.userForm.provinceId=t.provinceId,this.userForm.cityId=t.cityId,this.userForm.countryId=t.areaId,this.userForm.streetId=t.streetId},pageChange:function(t){this.userForm.pageNum=t,this.getLists()},reSet:function(){this.$refs.area.reSet(),this.userForm={name:"",status:"",provinceId:"",cityId:"",countryId:"",streetId:"",pageNum:1}},getLists:function(){var t=this;this.userForm.name.trim&&(this.userForm.name=this.userForm.name.trim()),this.$http.post("http://ums.17link.cc/org/getOrgByParam.do?",this.userForm).then(function(e){var a=e.data.data;t.totalPage=a.totalNum,t.data=a.list,t.data.forEach(function(t){return t.status=1==t.status?"正常":"失效"})}).catch(function(t){return console.log})},addOrg:function(){this.$router.push({path:"/pt/AddOrg"})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",{attrs:{title:"机构管理"}},[a("el-form",{staticClass:"info-container",attrs:{model:t.userForm,"label-width":"100px"}},[a("el-row",[a("cityArea",{ref:"area",attrs:{title:"服务区域",curNum:"0"},on:{"select-change":t.selectChange}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"机构名称"}},[a("el-input",{model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,"name",e)},expression:"userForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"机构状态"}},[a("el-select",{attrs:{placeholder:"请选择机构状态"},model:{value:t.userForm.status,callback:function(e){t.$set(t.userForm,"status",e)},expression:"userForm.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"失效",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getLists}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-close"},on:{click:t.reSet}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-more"}},[a("a",{staticClass:"export-btn-link",attrs:{download:"test",href:"http://ums.17link.cc/org/exportOrgByParam.do?"+t.getQuery(t.userForm)}},[t._v("\n                        导出\n                    ")])]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addOrg}},[t._v("添加机构")])],1)],1)],1),t._v(" "),a("lists",{staticClass:"list",attrs:{tableEles:t.tableEles,totalPage:t.totalPage,data:t.data,httpUrl:t.httpUrl,pageUrl:t.pageUrl,name:"name"},on:{"pagination-click":t.pageChange}})],1)},staticRenderFns:[]},i=a("/Xao")(o,l,!1,null,null,null);e.default=i.exports}});