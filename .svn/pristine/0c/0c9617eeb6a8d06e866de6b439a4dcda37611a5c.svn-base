webpackJsonp([5],{"5ofq":function(e,t,r){(e.exports=r("BkJT")(!1)).push([e.i,"\n.page-container[data-v-2337892e]{\n    padding-top: 15px;\n}\n.tab-row[data-v-2337892e]{\n    border-bottom: 1px solid #d1dbe5;\n}\n.tab[data-v-2337892e] {\n    bottom: -1px;\n    position: relative;\n    padding: 0 30px;\n    border: 1px solid #d1dbe5;\n    border-bottom-color: #fff;\n    border-radius: 4px 4px 0 0;\n    display: inline-block;\n    line-height: 40px;\n    font-size: 18px;\n    color: #616d80;\n}\n.page-content[data-v-2337892e]{\n    border: 1px solid #d1dbe5;\n    border-top: 0;\n}\n.back-btn[data-v-2337892e]{\n    margin: 28px 0 28px 42px;\n    color: #616d80;\n}\n",""])},"6QCu":function(e,t,r){"use strict";var a={name:"PageContainer",props:{title:{required:!0,type:String},showBackBtn:{type:Boolean,default:!1}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("header",{staticClass:"tab-row"},[r("span",{staticClass:"tab"},[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"page-content"},[e.showBackBtn?r("el-button",{staticClass:"back-btn",attrs:{icon:"arrow-left",type:"plain"},on:{click:function(t){e.$router.back()}}},[e._v("返回")]):e._e(),e._v(" "),e._t("default")],2)])},staticRenderFns:[]};var n=r("/Xao")(a,o,!1,function(e){r("vlUk")},"data-v-2337892e",null);t.a=n.exports},ADtW:function(e,t,r){var a=r("ugyo");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("8bSs")("258ef31c",a,!0)},DfrR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("hRKE"),o=r.n(a),n=r("cUn4"),i=r.n(n),s=r("a3Yh"),l=r.n(s),c=r("D7x1"),d=r("qn+5"),m=r("fEa0"),u=r("M8s3"),p=r("6QCu"),v={data:function(){return{httpUrl:"/org/updateOrgState.do",pageUrl:"/page/OrgInfo",userForm:l()({orgId:window._dataInfo.orgId,orderId:"",userName:"",workerName:"",createStartTime:"",createEndTime:"",serviceStartTime:"",serviceEndTime:"",catePid:"",cateId:"",stateId:"",pageSize:10,pageNum:1,provinceId:"",cityId:"",districtId:"",streetId:""},"stateId",""),tableEles:[{name:"养老机构",value:"orgName",ifControl:!1,eventName:""},{name:"省",value:"provinceName",ifControl:!1,eventName:""},{name:"市",value:"cityName",ifControl:!1,eventName:""},{name:"区",value:"districtName",ifControl:!1,eventName:""},{name:"街道",value:"streetName",ifControl:!1,eventName:""},{name:"订单号",value:"id",ifControl:!1,eventName:"link-to"},{name:"订单状态",value:"showState",ifControl:!1,eventName:""},{name:"服务大类",value:"catePname",ifControl:!1,eventName:""},{name:"服务品类",value:"cateName",ifControl:!1,eventName:""},{name:"下单时间",value:"createTime",ifControl:!1,eventName:""},{name:"老人姓名",value:"userName",ifControl:!1,eventName:""},{name:"服务人员姓名",value:"workerName",ifControl:!1,eventName:""},{name:"服务人员手机",value:"workerMobile",ifControl:!1,eventName:""},{name:"服务开始时间",value:"serviceTime",ifControl:!1,eventName:""},{name:"预定服务时长/h",value:"duration",ifControl:!1,eventName:""},{name:"订单总额",value:"price",ifControl:!1,eventName:""}],totalPage:0,data:[],orgName:"",orderTime:[],serverTime:[],orderStateDict:{},categories:[],secondCategories:[],type:window._dataInfo.type,showOrg:!1,serviceArea:{provinceId:"",cityId:"",districtId:"",streetId:""}}},components:{tables:c.a,limitArea:m.a,cityArea:d.a,orgChoose:u.a,PageContainer:p.a},created:function(){this.getOrderStateDict(),this.getCategory(),this.getLists()},methods:{getOrderStateDict:function(){var e=this;this.$http.get("http://mp.17link.cc/order/orderStateDict").then(function(t){var r=t.data.data;e.stateArr=r.state,e.stateArr.forEach(function(t){e.orderStateDict[t.text]=t.id})}).catch(function(e){return console.log})},stateDictArrToMap:function(e){if(e&&e.length){for(var t=new i.a,r=0;r<e.length;r++)t.set(e[r].id,e[r].text);return t}return!1},getCategory:function(){var e=this;this.$http.get("http://mp.17link.cc/manage/category/query").then(function(t){var r=t.data.data;e.categories=r.list}).catch(function(e){return console.log})},linkto:function(e){this.$router.push({path:"/integratedMana/oDetail",query:{orderId:e.id,state:this.orderStateDict[e.state],orderStateDict:this.orderStateDict}})},pageChange:function(e){this.userForm.pageNum=e,this.getLists()},reSet:function(){this.userForm=l()({orgId:window._dataInfo.orgId,orderId:"",userName:"",workerName:"",createStartTime:"",createEndTime:"",serviceStartTime:"",serviceEndTime:"",catePid:"",cateId:"",stateId:"",pageSize:10,pageNum:1,provinceId:"",cityId:"",districtId:"",streetId:""},"stateId",""),this.orderTime=[],this.serverTime=[]},getLists:function(){var e=this;this.orderTime.length>0&&(this.userForm.createStartTime=this.orderTime[0].getTime(),this.userForm.createEndTime=this.orderTime[1].getTime()),this.serverTime.length>0&&(this.userForm.serviceStartTime=this.serverTime[0].getTime(),this.userForm.serviceEndTime=this.serverTime[1].getTime()),this.$http.post("http://mp.17link.cc/order/subOrderList",this.userForm).then(function(t){var r=t.data.data;e.totalPage=r.count,r.orderList.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleString(),t.showState=e.orderStateDict[t.state]}),e.data=r.orderList}).catch(function(e){return console.log})},chooseOrg:function(){this.showOrg=!0},selectChange:function(e){var t=this.userForm;for(var r in this.serviceArea)this.serviceArea[r]=e[r];t.provinceId=e.provinceId,t.cityId=e.cityId,t.districtId=e.areaId,t.streetId=e.streetId},setOrgInfo:function(e){e&&(this.userForm.orgId=e.id,this.orgName=e.name),this.showOrg=!1},getQuery:function(e){var t="";for(var r in e)"object"===o()(e[r])?t+=this.getQuery(e[r]):t+=r+"="+e[r]+"&";return t},getParams:function(e){return e.slice(0,-1)}},watch:{"userForm.catePid":function(){var e=this,t=this.categories.filter(function(t){return t.catePid===e.userForm.catePid});this.secondCategories=t.length>0&&t[0].cate}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("pageContainer",{staticClass:"order-m",attrs:{title:"订单管理"}},[r("div",{staticClass:"search"},[r("div",{staticClass:"search-table"},[r("el-form",{staticClass:"demo-ruleForm form",attrs:{model:e.userForm,"label-width":"100px","label-position":"left"}},[r("el-row",[r("el-row",{staticClass:"area"},[0===e.type?r("cityArea",{ref:"area",attrs:{title:"服务区域",curNum:0},on:{"select-change":e.selectChange}}):e._e(),e._v(" "),2===e.type?r("limitArea",{on:{"select-change":e.selectChange}}):e._e()],1)],1),e._v(" "),1!==e.type?r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"服务机构"}},[e._v("\n                        "+e._s(e.orgName)+"\n                        "),r("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.chooseOrg}},[e._v("选择服务机构")])],1)],1)],1):e._e(),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单号",prop:"email"}},[r("el-input",{model:{value:e.userForm.orderId,callback:function(t){e.$set(e.userForm,"orderId",t)},expression:"userForm.orderId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"老人姓名",prop:"email"}},[r("el-input",{model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"服务人员姓名",prop:"email"}},[r("el-input",{model:{value:e.userForm.workerName,callback:function(t){e.$set(e.userForm,"workerName",t)},expression:"userForm.workerName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单状态","label-width":"100px"}},[r("el-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.userForm.stateId,callback:function(t){e.$set(e.userForm,"stateId",t)},expression:"userForm.stateId"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.orderStateDict,function(e,t){return r("el-option",{key:e,attrs:{label:t,value:e}})})],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"服务品类"}},[r("el-select",{attrs:{placeholder:"请选择一级品类"},model:{value:e.userForm.catePid,callback:function(t){e.$set(e.userForm,"catePid",t)},expression:"userForm.catePid"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.categories,function(e){return r("el-option",{key:e.catePid,attrs:{label:e.cateName,value:e.catePid}})})],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"","label-width":"0"}},[r("el-select",{attrs:{placeholder:"请选择二级品类"},model:{value:e.userForm.cateId,callback:function(t){e.$set(e.userForm,"cateId",t)},expression:"userForm.cateId"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.secondCategories,function(e){return r("el-option",{key:e.cateId,attrs:{label:e.cateName,value:e.cateId}})})],2)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"下单时间"}},[r("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"选择时间范围"},model:{value:e.orderTime,callback:function(t){e.orderTime=t},expression:"orderTime"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"服务开始时间"}},[r("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"选择时间范围"},model:{value:e.serverTime,callback:function(t){e.serverTime=t},expression:"serverTime"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.getLists}},[e._v("筛选")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.reSet}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary"}},[r("a",{staticClass:"download",attrs:{download:"test",href:"http://mp.17link.cc/order/orderExport?"+e.getParams(e.getQuery(this.userForm))}},[e._v("导出")])])],1)],1)],1)],1)]),e._v(" "),r("tables",{staticClass:"list",attrs:{tableEles:e.tableEles,totalPage:e.totalPage,data:e.data},on:{"pagination-click":e.pageChange,"link-to":e.linkto}}),e._v(" "),e.showOrg?r("orgChoose",{attrs:{areaData:e.userForm.serviceArea},on:{"pop-click":e.setOrgInfo}}):e._e()],1)},staticRenderFns:[]};var h=r("/Xao")(v,f,!1,function(e){r("ADtW")},null,null);t.default=h.exports},a3Yh:function(e,t,r){"use strict";t.__esModule=!0;var a,o=r("liLe"),n=(a=o)&&a.__esModule?a:{default:a};t.default=function(e,t,r){return t in e?(0,n.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},adMp:function(e,t,r){r("pBXl");var a=r("UusJ").Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},liLe:function(e,t,r){e.exports={default:r("adMp"),__esModule:!0}},pBXl:function(e,t,r){var a=r("MITN");a(a.S+a.F*!r("M7ni"),"Object",{defineProperty:r("qRYU").f})},ugyo:function(e,t,r){(e.exports=r("BkJT")(!1)).push([e.i,"\n.order-m .search .head {\n  background-color: #fff;\n}\n.order-m .search .head h5 {\n    padding: 0px 38px 0px 38px;\n    height: 42px;\n    line-height: 42px;\n    font-size: 22px;\n    color: #616d80;\n    border: 1px solid #CAD3DF;\n    border-bottom: none;\n    text-align: center;\n    background-color: #FBFBFB;\n    border-radius: 5px 5px 0 0;\n}\n.order-m .search .search-table {\n  padding-left: 38px;\n  padding-top: 10px;\n  margin-top: -1px;\n}\n.order-m .search .search-table .button {\n    margin-left: 31px;\n    margin-bottom: 10px;\n}\n.order-m .list {\n  margin-top: 32px;\n}\n",""])},vlUk:function(e,t,r){var a=r("5ofq");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("8bSs")("4da8289e",a,!0)}});