webpackJsonp([8,22],{BxOJ:function(t,e,o){var s=o("GPJd");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o("8bSs")("4551b126",s,!0)},D3py:function(t,e,o){"use strict";var s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popUp"},[o("el-dialog",{staticClass:"dialog",attrs:{title:"配置角色",visible:!0,"show-close":!1,"lock-scroll":!0,"close-on-click-modal":!1,modal:!0}},[o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-transfer",{attrs:{data:t.sysFuncs,titles:["未添加角色","已添加角色"],"button-texts":["删除","添加"],props:{key:"id",label:"name"}},model:{value:t.myFuncs,callback:function(e){t.myFuncs=e},expression:"myFuncs"}})],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cliCancle}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.cliConfirm}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var a=o("/Xao")({name:"editRole",props:["ownFuncs","allFuncs"],data:function(){return{formLabelWidth:"120px",sysFuncs:this.allFuncs,myFuncs:[]}},components:{},created:function(){var t=this;this.myFuncs=[],this.ownFuncs.forEach(function(e){return t.myFuncs.push(e.id)})},methods:{cliConfirm:function(){this.$emit("pop-click",this.myFuncs)},cliCancle:function(){this.$emit("pop-click")}}},s,!1,function(t){o("TKSh")},null,null);e.a=a.exports},GPJd:function(t,e,o){(t.exports=o("BkJT")(!1)).push([t.i,"\n.popUp .dialog {\n  /*position: absolute;*/\n  /*top: 300px;*/\n  /*left: 30%;*/\n}\n",""])},TKSh:function(t,e,o){var s=o("tz/m");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o("8bSs")("37f41e5e",s,!0)},TyqQ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"editGovermentInfo",props:["userInfo"],data:function(){return{form:{id:"",name:"",status:"1"},tempForm:this.userInfo,rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},formLabelWidth:"120px"}},created:function(){},components:{},methods:{cliConfirm:function(){for(var t in this.form)this.form[t]=this.tempForm[t];this.form.name||alert("请填入用户名称"),this.$emit("pop-click",this.form,this)},cliCancle:function(){this.$emit("pop-click")}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popUp"},[o("el-dialog",{staticClass:"dialog",attrs:{title:"修改信息",visible:!0,"show-close":!1,"lock-scroll":!0,"close-on-click-modal":!1,modal:!0}},[o("el-form",{attrs:{model:t.tempForm,rules:t.rules}},[o("el-form-item",{attrs:{label:"行政区域","label-width":t.formLabelWidth,prop:"createrId"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.tempForm.areaShow,callback:function(e){t.$set(t.tempForm,"areaShow",e)},expression:"tempForm.areaShow"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账号类型","label-width":t.formLabelWidth,prop:"createrId"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.tempForm.category,callback:function(e){t.$set(t.tempForm,"category",e)},expression:"tempForm.category"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"用户账号","label-width":t.formLabelWidth,prop:"createrId"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.tempForm.username,callback:function(e){t.$set(t.tempForm,"username",e)},expression:"tempForm.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.tempForm.name,callback:function(e){t.$set(t.tempForm,"name",e)},expression:"tempForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账号状态","label-width":t.formLabelWidth,prop:"status"}},[o("el-radio-group",{model:{value:t.tempForm.status,callback:function(e){t.$set(t.tempForm,"status",e)},expression:"tempForm.status"}},[o("el-radio",{attrs:{label:1}},[t._v("启用")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("禁用")])],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cliCancle}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.cliConfirm}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var n=o("/Xao")(s,a,!1,function(t){o("BxOJ")},null,null);e.default=n.exports},gGGC:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("STY9"),a=o("rppN"),n=o("D3py"),l=o("TyqQ"),r={data:function(){return{tableData:[],userInfo:{orgName:"",category:"",name:"",username:"",status:"",addUserName:"",addTime:""},showDialog:!1,showEditInfoDialog:!1,ownFuncs:[],allFuncs:[],userId:""}},components:{editRole:n.a,editGovermentInfo:l.default,PageContainer:a.a,ChunkLabel:s.a},created:function(){this.userId=this.$route.query.id,this.getUserInfo(this.getAllRoles)},methods:{edit:function(){this.showEditInfoDialog=!0},dialogClick:function(){var t=this;if(arguments.length>0){var e=arguments.length<=0?void 0:arguments[0];this.$http.post("http://ums.17link.cc/userRole/addUserRole.do",{userId:this.userId,roleIds:e}).then(function(e){t.$router.go(0)}).catch(function(t){return console.log})}this.showDialog=!1},editRole:function(){this.showDialog=!0},getUserInfo:function(t){var e=this;this.$http.get("http://ums.17link.cc/user/getUserAndRolesById.do?id="+this.userId).then(function(o){var s=o.data.data;e.userInfo=s.user,e.userInfo.statusShow=1===e.userInfo.status?"正常":"失效",e.userInfo.category=1===e.userInfo.category?"主账号":"子账号",e.userInfo.addTime=new Date(e.userInfo.addTime),e.ownFuncs=s.roles||[],e.userInfo.areaShow=e.userInfo.provinceName+e.userInfo.cityName+e.userInfo.countryName+e.userInfo.streetName,t&&t()}).catch(function(t){return console.log})},getAllRoles:function(){var t=this;this.$http.get("http://ums.17link.cc/role/getRoleByType.do?type="+this.userInfo.type).then(function(e){var o=e.data.data;t.allFuncs=o.roles}).catch(function(t){return console.log})},conformEdit:function(){var t=this;if(arguments.length>0){var e=arguments.length<=0?void 0:arguments[0];this.$http.get("http://ums.17link.cc/user/updateUser.do?id="+e.id+"&status="+e.status+"&name="+e.name).then(function(e){t.$router.go(0)}).catch(function(t){return console.log})}this.showEditInfoDialog=!1}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("page-container",{attrs:{title:"账号详情","show-back-btn":""}},[o("chunk-label",{attrs:{title:"基本信息"}},[o("el-button",{attrs:{type:"plain",size:"small",icon:"el-icon-edit"},on:{click:t.edit}},[t._v("修改")])],1),t._v(" "),o("el-row",[o("el-form",{staticClass:"info-container",attrs:{"label-width":"100px","label-position":"left"}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"行政区"}},[o("span",[t._v(t._s(t.userInfo.provinceName+t.userInfo.cityName+t.userInfo.countryName+t.userInfo.streetName))])]),t._v(" "),o("el-form-item",{attrs:{label:"账号类型"}},[o("span",[t._v(t._s(t.userInfo.category))])]),t._v(" "),o("el-form-item",{attrs:{label:"姓名"}},[o("span",[t._v(t._s(t.userInfo.name))])]),t._v(" "),o("el-form-item",{attrs:{label:"账号"}},[o("span",[t._v(t._s(t.userInfo.username))])]),t._v(" "),o("el-form-item",{attrs:{label:"账号状态"}},[o("span",[t._v(t._s(t.userInfo.statusShow))])])],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"创建人"}},[o("span",[t._v(t._s(t.userInfo.addUserName))])]),t._v(" "),o("el-form-item",{attrs:{label:"创建时间"}},[o("span",[t._v(t._s(t._f("formatDate")(t.userInfo.addTime)))])])],1)],1)],1),t._v(" "),o("chunk-label",{attrs:{title:"角色"}},[o("el-button",{attrs:{type:"plain",size:"small",icon:"el-icon-edit"},on:{click:t.editRole}},[t._v("修改")])],1),t._v(" "),o("el-table",{staticClass:"table",attrs:{data:t.ownFuncs,border:""}},[o("el-table-column",{attrs:{prop:"name",label:"角色名称",align:"center"}})],1),t._v(" "),t.showDialog?o("editRole",{attrs:{ownFuncs:t.ownFuncs,allFuncs:t.allFuncs},on:{"pop-click":t.dialogClick}}):t._e(),t._v(" "),t.showEditInfoDialog?o("editGovermentInfo",{attrs:{userInfo:t.userInfo},on:{"pop-click":t.conformEdit}}):t._e()],1)},staticRenderFns:[]},c=o("/Xao")(r,i,!1,null,null,null);e.default=c.exports},"tz/m":function(t,e,o){(t.exports=o("BkJT")(!1)).push([t.i,"\n.popUp .dialog {\n  /*position: absolute;*/\n  /*top: 300px;*/\n  /*left: 30%;*/\n}\n",""])}});