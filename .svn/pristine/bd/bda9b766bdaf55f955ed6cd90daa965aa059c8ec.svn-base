webpackJsonp([6],{"+U0E":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fEa0"),i=n("qn+5"),o=n("M8s3"),s=(n("G8Fn"),{data:function(){return{excel:!0,options:[],value:0,notFull:!0,orgName:"",userForm:{orgId:window._dataInfo.orgId,provinceId:window._dataInfo.provinceId,cityId:window._dataInfo.cityId,countryId:window._dataInfo.countryId,streetId:window._dataInfo.streetId},showOrg:!1,tableDataExcel:1,totleNum:0,type:window._dataInfo.type,tableData:[],dict:{StreetName:"乡镇服务",geriattricNursing:"老年护理服务",assistedMedical:"协助医疗护理服务",communication:"通讯服务",consultation:"咨询服务",diet:"膳食服务",entrust:"委托代办服务",environment:"环境卫生服务",forHelp:"助行服务",health:"养生服务",leisure:"休闲娱乐服务",medicalCare:"医疗保健服务",other:"其他",personalLife:"个人生活照料服务",psychologicalSupport:"心理精神支持服务",security:"安全保护服务",teach:"教育服务",wash:"洗涤服务"},initKey:0,xAxis:[]}},created:function(){this._getExcel()},components:{limitArea:a.a,cityArea:i.a,orgChoose:o.a},methods:{_getData:function(t){var e=[],n=[];this.tableData.forEach(function(a){e.push(a[t]),n.push({value:a[t],name:a.StreetName})}),this.canvasData=e,this.canvasData1=n,this._initCanvas()},_initCanvas:function(){this.myChart=echarts.init(document.getElementById("main")),this.myChart1=echarts.init(document.getElementById("main1"));var t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}"},xAxis:{data:this.xAxis},yAxis:{},series:[{name:this.options[this.initKey]&&this.options[this.initKey].label||"",type:"bar",itemStyle:{normal:{color:"#409EFF"}},data:this.canvasData}]},e={xAxis:{show:!1},yAxis:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.options[this.initKey]&&this.options[this.initKey].label||"",type:"pie",data:this.canvasData1,roseType:"area",radius:[30,110],center:["75%","50%"]}]};this.myChart.setOption(t),this.myChart1.setOption(e)},toggleStatistic:function(t){"统计中心"===t.target.innerHTML&&this.$router.push("/integratedMana/statistical")},toggleType:function(t){1===t?($("#excel").removeClass("el-button--primary").addClass("el-button--default"),$("#echart").removeClass("el-button--default").addClass("el-button--primary"),this.excel=!1,this.value=1):($("#echart").removeClass("el-button--primary").addClass("el-button--default"),$("#excel").removeClass("el-button--default").addClass("el-button--primary"),this.excel=!0)},toFull:function(t){var e=this;if(0===t){var n=this.$refs.data_excel;screenfull.enabled&&screenfull.request(n)}else if(1===t){var a=this.$refs.data_tv;screenfull.enabled&&screenfull.request(a)}screenfull.enabled&&screenfull.on("change",function(){e.notFull=!screenfull.isFullscreen})},reSet:function(){this.$refs.area.reSet(),this.orgName="",this.userForm.orgId=window._dataInfo.orgId},selectChange:function(t){var e=this.userForm;e.provinceId=t.provinceId,e.cityId=t.cityId,e.countryId=t.areaId,e.streetId=t.streetId},chooseOrg:function(){this.showOrg=!0},setOrgInfo:function(t){t&&(this.userForm.orgId=t.id,this.orgName=t.name),this.showOrg=!1},_getExcel:function(){var t=this;console.log("_getExcel"),this.$http.get("http://mp.17link.cc/data/statisticsToExcel?orgId="+this.userForm.orgId).then(function(e){if(0===e.data.errCode){t.tableData=e.data.data;var n=e.data.data[0],a=[];e.data.data.forEach(function(t){a.push(t.StreetName)}),t.xAxis=a;var i=0,o=[];for(var s in n)"StreetName"!==s&&(i++,o.push({value:i-1,label:t.dict[s]}));t.options=o,t.excel||t._handlerCanvas()}})},_handlerCanvas:function(){console.log("_handlerCanvas");var t,e,n=this.options[this.value]&&this.options[this.value].label||"",a=void 0;for(var i in this.dict)this.dict[i]===n&&(a=i);this._getData(a),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}"},xAxis:{data:this.xAxis,show:!0},yAxis:{show:!0},series:[{name:n,type:"bar",data:this.canvasData}]},e={xAxis:{show:!1},yAxis:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:n,type:"pie",data:this.canvasData1}]},this.myChart.setOption(t),this.myChart1.setOption(e)}},watch:{value:function(){this._handlerCanvas()},orgName:function(){this._getExcel()}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-container"},[a("header",{staticClass:"tab-row",on:{click:t.toggleStatistic}},[a("span",{staticClass:"tab"},[t._v("统计中心")]),t._v(" "),a("span",{staticClass:"tab active"},[t._v("老人需求统计")])]),t._v(" "),a("main",{staticClass:"page-content"},[1!==t.type?a("el-form",{staticClass:"infos",attrs:{model:t.userForm,inline:"","label-width":"120px","label-position":"left"}},[a("el-row",{staticClass:"m-l"},[2===t.type?a("limitArea",{ref:"area",attrs:{num:5},on:{"select-change":t.selectChange}}):t._e(),t._v(" "),0===t.type?a("cityArea",{ref:"area",attrs:{title:"服务区域",curNum:"0"},on:{"select-change":t.selectChange}}):t._e()],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"服务机构"}},[t._v("\r\n                    "+t._s(t.orgName)+"\r\n                    "),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.chooseOrg}},[t._v("选择服务机构")])],1),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.reSet}},[t._v("重置")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"infos"},[a("div",{staticClass:"btn_box"},[a("el-row",[a("el-button",{attrs:{type:"primary",id:"excel"},on:{click:function(e){t.toggleType(0)}}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-Excel"}})]),t._v("EXCEL表单展示\r\n                    ")]),t._v(" "),a("el-button",{attrs:{id:"echart"},on:{click:function(e){t.toggleType(1)}}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-tubiao"}})]),t._v("图标展示\r\n                    ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.excel,expression:"excel"}],staticClass:"wrapper"},[a("img",{staticClass:"full_icon",attrs:{src:n("ieYw")},on:{click:function(e){t.toFull(0)}}}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},t._l(t.dict,function(t,e){return a("el-table-column",{key:t,attrs:{align:"center",prop:e,label:t,width:"140"}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.excel,expression:"!excel"}],ref:"data_tv",staticClass:"wrapper wrapper_data"},[t._m(0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.notFull,expression:"notFull"}],staticClass:"fullwrapper"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1)])])])],1),t._v(" "),t.showOrg?a("org-choose",{attrs:{areaData:t.userForm},on:{"pop-click":t.setOrgInfo}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main_wrapper"},[e("div",{attrs:{id:"main"}}),this._v(" "),e("div",{attrs:{id:"main1"}})])}]};var l=n("/Xao")(s,r,!1,function(t){n("FS7a")},"data-v-bc369170",null);e.default=l.exports},"75sk":function(t,e,n){t.exports=n.p+"img/doneOrder.9dd4dd6.png"},FS7a:function(t,e,n){var a=n("OOwm");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("8bSs")("27b95ee7",a,!0)},G8Fn:function(t,e){!function(t){var e,n='<svg><symbol id="icon-tubiao" viewBox="0 0 1024 1024"><path d="M929.295 852.142h-865.391v-642.213c0-15.452 12.484-27.936 27.936-27.936s27.936 12.484 27.936 27.936v586.342h809.622c15.452 0 27.936 12.484 27.936 27.936-0.102 15.452-12.586 27.936-28.038 27.936v0zM845.59 740.399h-55.871c-30.801 0-55.871-24.968-55.871-55.871v-334.921c0-30.801 24.968-55.871 55.871-55.871h55.871c30.801 0 55.871 24.968 55.871 55.871v335.023c0 30.801-25.070 55.769-55.871 55.769v0zM566.439 740.399h-55.871c-30.801 0-55.871-24.968-55.871-55.871v-502.432c0-30.801 24.968-55.871 55.871-55.871h55.871c30.801 0 55.871 24.968 55.871 55.871v502.535c-0.102 30.801-25.070 55.769-55.871 55.769v0zM287.185 740.399h-55.871c-30.801 0-55.871-24.968-55.871-55.871v-223.281c0-30.801 24.968-55.871 55.871-55.871h55.871c30.801 0 55.871 24.968 55.871 55.871v223.383c0 30.801-24.968 55.769-55.871 55.769v0z"  ></path></symbol><symbol id="icon-Excel" viewBox="0 0 1032 1024"><path d="M438.0166 0h208.33132v63.541053h384.892114v833.32528h-386.454598v126.040448H520.8283a755.201035 755.201035 0 0 1-81.249215 0c-58.853598-6.770768-117.186368-15.624849-175.519137-23.958101l-192.185643-27.083072L0 958.324072V63.020224L190.10233 36.457981l192.706471-27.083072z m527.599068 829.679482V129.165418h-319.267748v63.020225h61.978568v64.061881h-62.499396v63.020224h62.499396v65.624366h-62.499396v62.499396h62.499396v64.582709h-62.499396V572.91113h62.499396v65.103538h-62.499396v65.103537h62.499396v64.061881h-61.978568v62.499396zM128.123762 266.66409l5.208283 11.458222c35.416324 72.915962 71.353477 145.831924 107.29063 218.747886a25.520587 25.520587 0 0 1 0 26.562244l-117.186368 215.622916-5.729111 10.937394H216.143745a14.583192 14.583192 0 0 0 16.145677-10.416566c24.47893-56.249456 48.95786-112.498913 73.957618-168.748369v-5.208283c27.083072 61.457739 52.08283 122.915479 81.249215 184.894046a16.145677 16.145677 0 0 0 16.145678 11.458223l79.165901 4.687455h29.687213l-4.687454-9.895738q-63.020224-117.707196-127.602934-239.581018a22.395617 22.395617 0 0 1 0-23.437274q62.499396-117.707196 123.957135-236.456048l5.729112-11.458222h-21.353961l-81.249214 4.687454a14.583192 14.583192 0 0 0-14.583193 9.895738L329.163486 404.683589c-5.729111 13.020708-11.458223 26.562243-17.187334 41.145436l-4.687455-9.895738-60.936911-156.24849C238.539361 260.41415 238.539361 260.41415 216.664573 260.41415H208.33132z"  ></path><path d="M774.471682 192.185643h128.123762v62.499396h-128.123762zM774.471682 319.788576h128.123762v64.582709h-128.123762zM774.471682 446.870681h128.123762v65.624366h-128.123762zM774.471682 575.515272h128.123762v64.582709h-128.123762zM774.471682 704.159862h128.123762v62.499396h-128.123762z"  ></path></symbol></svg>',a=function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)};if((e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss")&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(e){document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()},!1):document.attachEvent&&function(t,e){var n=t.document,a=!1,i=function(){a||(a=!0,e())};(function t(){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}i()})(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,i())}}(t,e)}(function(){var t,e;(t=document.createElement("div")).innerHTML=n,n=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",a(e,document.body))})}(window)},OOwm:function(t,e,n){(t.exports=n("BkJT")(!1)).push([t.i,'\n.info-container[data-v-bc369170] {\n  font-family: PingFangSC-Medium, "PingFang SC", "Microsoft YaHei", "\\5FAE\\8F6F\\96C5\\9ED1", "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;\n  padding-top: 15px;\n  position: relative;\n}\n.tab-row[data-v-bc369170] {\n  border-bottom: 1px solid #d1dbe5;\n}\n.tab[data-v-bc369170] {\n  bottom: -1px;\n  position: relative;\n  padding: 0 30px;\n  border: 1px solid #d1dbe5;\n  border-radius: 4px 4px 0 0;\n  display: inline-block;\n  line-height: 40px;\n  font-size: 18px;\n  color: #616d80;\n  cursor: pointer;\n}\n.tab.active[data-v-bc369170] {\n  border-bottom: 1px solid #fff;\n}\n.page-content[data-v-bc369170] {\n  border: 1px solid #d1dbe5;\n  border-top: 0;\n}\n.info[data-v-bc369170] {\n  height: 100vh;\n  width: 100vw;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-top: -1px;\n  padding-top: 10px;\n  padding-left: 38px;\n  padding-bottom: 50px;\n}\n.wrapper[data-v-bc369170] {\n  margin-top: 50px;\n  position: relative;\n}\n.wrapper_data[data-v-bc369170] {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n}\n.full_icon[data-v-bc369170] {\n  position: absolute;\n  top: 0;\n  right: 300px;\n  height: 36px;\n}\n.main_wrapper[data-v-bc369170] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row wrap;\n          flex-flow: row wrap;\n  margin-top: 50px;\n}\n.main_wrapper #main[data-v-bc369170] {\n    width: 900px;\n    height: 600px;\n}\n.main_wrapper #main1[data-v-bc369170] {\n    width: 500px;\n    height: 600px;\n}\n.fullwrapper[data-v-bc369170] {\n  position: absolute;\n  top: 0;\n  right: 300px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n}\n.fullwrapper img[data-v-bc369170] {\n  margin-left: 10px;\n  height: 36px;\n}\n.icon[data-v-bc369170] {\n  width: 1em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n  margin-right: 4px;\n}\n.excelImg[data-v-bc369170] {\n  width: 70%;\n}\n.infos[data-v-bc369170] {\n  margin-top: 10px;\n  border: 1px solid #d9d3f8;\n  background-color: #fbfbfb;\n  padding-top: 10px;\n  padding-left: 38px;\n  padding-bottom: 50px;\n}\n.infos .show-info h5[data-v-bc369170] {\n    font-size: 22px;\n    font-family: PingFangSC-Medium;\n    color: #616D80;\n    border-left: 2px solid #D8D8D8;\n    padding-left: 14px;\n    margin-bottom: 75px;\n}\n.infos .show-info ul[data-v-bc369170] {\n    margin-bottom: 50px;\n}\n.infos .show-info ul li[data-v-bc369170] {\n      float: left;\n      width: 384px;\n      height: 245px;\n      margin-left: 20px;\n      background-size: cover;\n}\n.infos .show-info ul li .title[data-v-bc369170] {\n        margin-top: 34px;\n        margin-left: 50px;\n        font-family: PingFangSC-Medium;\n        font-size: 26px;\n        color: #616D80;\n}\n.infos .show-info ul li .order[data-v-bc369170] {\n        margin-top: 46px;\n        font-family: Dosis-Medium;\n        font-size: 30px;\n        color: #5D656F;\n        margin-left: 47px;\n}\n.infos .show-info ul li .cash[data-v-bc369170] {\n        margin-top: 65px;\n        font-family: PingFangSC-Medium;\n        font-size: 30px;\n        color: #B2BFD1;\n        margin-left: 44px;\n}\n.infos .show-info ul li.left[data-v-bc369170] {\n      background-image: url('+n("OfvF")+");\n}\n.infos .show-info ul li.middle[data-v-bc369170] {\n      background-image: url("+n("edrH")+");\n}\n.infos .show-info ul li.middle .title[data-v-bc369170] {\n        margin-top: 31px;\n        margin-left: 66px;\n}\n.infos .show-info ul li.middle .order[data-v-bc369170] {\n        margin-left: 64px;\n}\n.infos .show-info ul li.middle .cash[data-v-bc369170] {\n        margin-left: 66px;\n}\n.infos .show-info ul li.right[data-v-bc369170] {\n      background-image: url("+n("75sk")+");\n}\n",""])},OfvF:function(t,e,n){t.exports=n.p+"img/history.b684801.png"},edrH:function(t,e,n){t.exports=n.p+"img/newOrder.df72a5f.png"},ieYw:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAoCAYAAACIC2hQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MTFlNDE3MS1lZWE2LWNkNGUtYWRiZi00OGI0OGFlODQwY2MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUM0NERBQUREOTVEMTFFN0JEQzhCMDE0QUEyMjQ3RUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUM0NERBQUNEOTVEMTFFN0JEQzhCMDE0QUEyMjQ3RUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YjY3NTc3ZjgtOTEyZS1lYTRmLThmZGItMTM5ZGVkOTNhYjkyIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MzdkNmIxZjEtY2RkMS0xMWU3LWI4ZTItOWViNDlkNTg5NjFhIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XzRW+gAAAchJREFUeNrs2E1LAkEYB/D/TEFpFr1CRF56waRDSZR57yN4KXq59QkKJO8i0ieIgkgIJOoDhNdM6lSXhMhIoUMWlUpZ5G7PqB0qNcjYdmEe+Ivg6v6cnX1mWIbtN1ANUvyUKUoL9FFpSpjioZwzgtroTZTSCn3WA2WS04tPx0iUbD4xoo86utyVKssNgBRl4TBISaiESqiE6rTqa9o1uOuQfAKun1Uc3QHeU6Xscf4RjrF2wGpm6DVT997JawtNvQD3ryoWjxVcZisf5zlRYKP1b2OCgzGm/aUXI7kQVRCkvU2fpfJxQyXkTETBTU7VHhq5BS5oJOcJu0XY/jJYOyHXCTlNyARNk4PU784ldk/qX0x2MaJuK0Pg7PPPLQ0xhBJqYS7XUn8Gle1JQvUOFTfTsv17j1wZZlVblybQwGjx66Itifa0m/x+X4au1MJnH9hVB9ce6uoEBpoJ6eKYo14aL7M6fe2zzo5/WOt7TAybTo7Zw+pLaLyEDdIf6m5k2kO7GoBcnmFtnFfdlIgp4mgDmuhspjrZ8CVUQiVUQiX0B2jaAM7Cg9ywAaD7AupF8YG+XkvYvAIao0xS9igZHQEzJZOwxd4FGAAq+oNxZ8MpygAAAABJRU5ErkJggg=="}});