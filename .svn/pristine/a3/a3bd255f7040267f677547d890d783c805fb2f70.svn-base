webpackJsonp([34],{JjXz:function(e,t,a){var n=a("xpFB");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("8bSs")("66b2403e",n,!0)},dOjc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{data:[],totalPage:0,tableEles:[{name:"养老机构",value:"orgName",ifControl:!1,eventName:""},{name:"省",value:"provinceName",ifControl:!1,eventName:""},{name:"市",value:"cityName",ifControl:!1,eventName:""},{name:"区",value:"districtName",ifControl:!1,eventName:""},{name:"街道",value:"streetName",ifControl:!1,eventName:""},{name:"订单号",value:"id",ifControl:!1,eventName:"link-to"},{name:"订单状态",value:"showState",ifControl:!1,eventName:""},{name:"服务大类",value:"catePname",ifControl:!1,eventName:""},{name:"服务品类",value:"cateName",ifControl:!1,eventName:""},{name:"下单时间",value:"createTime",ifControl:!1,eventName:""},{name:"老人姓名",value:"userName",ifControl:!1,eventName:""},{name:"服务人员姓名",value:"workerName",ifControl:!1,eventName:""},{name:"服务人员手机",value:"workerMobile",ifControl:!1,eventName:""},{name:"服务开始时间",value:"serviceTime",ifControl:!1,eventName:""},{name:"预定服务时长/h",value:"duration",ifControl:!1,eventName:""},{name:"订单总额",value:"price",ifControl:!1,eventName:""}],orderStateDict:[]}},created:function(){this.workerId=Number(this.$route.params.id),this._getOrderStateDict()},methods:{server:function(){this.$router.replace("/integratedMana/worker/"+this.workerId)},pageChange:function(e){console.log("change")},linkto:function(e){var t=void 0;this.orderStateDict.filter(function(a){a.text===e.showState&&(t=a.id)}),this.$router.push({path:"/integratedMana/oDetail",query:{orderId:e.id,state:t,source:"oManagerment"}})},_getOrderStateDict:function(){var e=this;this.$http.get("http://mp.17link.cc/order/orderStateDict").then(function(t){var a=t.data.data;e.orderStateDict=a.state,e._getOrderList()}).catch(function(e){return console.log})},_getOrderList:function(){var e=this;this.$http.get("http://mp.17link.cc/order/subOrderByWorkerIdList?workerId="+this.workerId+"&pageNum=10&pageSize=1").then(function(t){var a=t.data.data;e.totalPage=(a.count/10|0)+(a.count%10?1:0),a.orderList.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleString(),t.showState=t.state,e.data.push(t)})}).catch(function(e){console.log(e)})}},components:{Tables:a("D7x1").a}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("header",{staticClass:"tab-row"},[a("span",{staticClass:"tab",on:{click:e.server}},[e._v("服务人员详情")]),e._v(" "),a("span",{staticClass:"tab active"},[e._v("服务人员订单")])]),e._v(" "),a("div",{staticClass:"page-content"},[a("el-button",{staticClass:"back-btn",attrs:{icon:"el-icon-arrow-left",type:"plain"},on:{click:function(t){e.$router.back()}}},[e._v("返回")])],1),e._v(" "),a("tables",{staticClass:"list",attrs:{tableEles:e.tableEles,totalPage:e.totalPage,data:e.data},on:{"pagination-click":e.pageChange,"link-to":e.linkto}})],1)},staticRenderFns:[]};var r=a("/Xao")(n,o,!1,function(e){a("JjXz")},null,null);t.default=r.exports},xpFB:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.page-container {\n  padding-top: 15px;\n  position: relative;\n}\n.tab-row {\n  border-bottom: 1px solid #d1dbe5;\n}\n.tab {\n  bottom: -1px;\n  position: relative;\n  padding: 0 30px;\n  border: 1px solid #d1dbe5;\n  border-radius: 4px 4px 0 0;\n  display: inline-block;\n  line-height: 40px;\n  font-size: 18px;\n  color: #616d80;\n  cursor: pointer;\n}\n.tab.active {\n    border-bottom-color: #fff;\n}\n.page-content {\n  border: 1px solid #d1dbe5;\n  border-top: 0;\n}\n.back-btn {\n  margin: 28px 0 28px 42px;\n  color: #616d80;\n}\n",""])}});