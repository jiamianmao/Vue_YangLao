<template>
<div class="info-container">
    <header class="tab-row" @click='toggleStatistic'>
        <span class="tab">统计中心</span>
        <span class='tab active'>老人需求统计</span>
    </header>

    <main class='page-content'>

        <el-form class='infos' :model="userForm" inline label-width="120px" label-position="left">
            <el-row class="m-l">
                <!-- <limitArea ref="area" @select-change="selectChange" v-if='2 < 0'></limitArea> -->
                <cityArea ref="area" title="服务区域" @select-change="selectChange" curNum="0"></cityArea>
            </el-row>
            <el-row>
                <el-form-item label="服务机构">
                    {{orgName}}
                    <el-button class="button" type="primary" @click="chooseOrg">选择服务机构</el-button>
                </el-form-item>
                <el-button class="button" type="primary" @click="reSet">重置</el-button>
            </el-row>
        </el-form>
        <div class="infos">

            <div class="btn_box">

                <el-button type="primary" id='excel' @click='toggleType(0)'>

                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-Excel"></use>
                    </svg>EXCEL表单展示

                </el-button>

                <el-button id='echart' @click='toggleType(1)'>

                    <svg class="icon" aria-hidden="true">
    
                        <use xlink:href="#icon-tubiao"></use>

                    </svg>图标展示

                </el-button>

            </div>

            <div class='box'>

                <div class="wrapper" v-show='excel'>

                    <img class='full_icon' @click='toFull(0)' src="./full.png">

                    <img class='excelImg' ref='data_excel' src="./excel.png">

                </div>

                <div class="wrapper wrapper_data" ref='data_tv' v-show='!excel'>

                    <div class="main_wrapper">

                        <div id="main" style="width: 800px;height:600px;"></div>

                        <div id="main1" style="width: 800px;height:600px;"></div>

                    </div>

                    <div class='fullwrapper' v-show='notFull'>

                        <el-select v-model="value" placeholder="请选择">

                            <el-option v-for="item in options" :key="item.value" :label="item.label" :value="item.value">

                            </el-option>

                        </el-select>

                    </div>

                </div>

            </div>

        </div>

    </main>

    <org-choose v-if="showOrg" @pop-click="setOrgInfo" :areaData="userForm">
    </org-choose>

</div>
</template>
<script>
import limitArea from '@/components/limitArea.vue';
import cityArea from '@/components/ServiceArea.vue';
import orgChoose from '@/components/OrgChoose.vue';
import '../../common/iconfont.js'

export default {

    data() {

        return {

            excel: true,

            options: [{

                value: 1,

                label: '个人生活照料服务'

            }, {

                value: 2,

                label: '老年护理服务'

            }, {

                value: 3,

                label: '协助医疗护理服务'

            }, {

                value: 4,

                label: '医疗保健服务'

            }, {

                value: 5,

                label: '养生服务'

            }, {

                value: 6,

                label: '心理精神支持服务'

            }, {

                value: 7,

                label: '膳食服务'

            }, {

                value: 8,

                label: '教育服务'

            }, {

                value: 9,

                label: '休闲娱乐服务'

            }, {

                value: 10,

                label: '环境卫生服务'

            }, {

                value: 11,

                label: '洗涤服务'

            }, {

                value: 12,

                label: '安全保护服务'

            }, {

                value: 13,

                label: '助行服务'

            }, {

                value: 14,

                label: '咨询服务'

            }, {

                value: 15,

                label: '委托代办服务'

            }, {

                value: 16,

                label: '通讯服务'

            }, {

                value: 17,

                label: '其他服务'

            }, {

                value: 18,

                label: '总需求数'

            }, {

                value: 19,

                label: '各村镇需求占比'

            }, {

                value: 20,

                label: '总人数'

            }],

            value: 1,

            notFull: true,

            orgName: '',
            userForm: {
                orgId: '',
                provinceId: window._dataInfo.provinceId,
                cityId: window._dataInfo.cityId,
                countryId: window._dataInfo.countryId,
                streetId: window._dataInfo.streetId,
            },
            tableData: [],
            showOrg: false,
            totleNum: 0,
            type: window._dataInfo.type

        }

    },
    mounted() {

        this.myChart = echarts.init(document.getElementById('main'))

        this.myChart1 = echarts.init(document.getElementById('main1'))

        // 指定图表的配置项和数据

        let option = {

            xAxis: {

                data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"]

            },

            yAxis: {},

            series: [{

                name: '个人生活照料服务',

                type: 'bar',

                itemStyle: {

                    normal: {

                        color: '#409EFF'

                    }

                },

                data: [1564, 587, 1326, 498, 783, 314, 418, 723, 325, 932, 301]

            }]

        }

        let option1 = {

            xAxis: {

                show: false

            },

            yAxis: {

                show: false

            },

            toolbox: {

                show: true,

                feature: {

                    mark: {

                        show: true

                    },

                    dataView: {

                        show: true,

                        readOnly: false

                    },

                    magicType: {

                        show: true,

                        type: ['pie', 'funnel']

                    },

                    restore: {

                        show: true

                    },

                    saveAsImage: {

                        show: true

                    }

                }

            },

            calculable: true,

            series: [{

                name: '个人生活照料服务',

                type: 'pie',

                data: [{

                        value: 1564,

                        name: '城厢镇'

                    },

                    {

                        value: 587,

                        name: '大同镇'

                    },

                    {

                        value: 1326,

                        name: '大弯街道'

                    },

                    {

                        value: 498,

                        name: '福洪乡'

                    },

                    {

                        value: 783,

                        name: '红阳街道'

                    },

                    {

                        value: 314,

                        name: '龙王镇'

                    },

                    {

                        value: 418,

                        name: '弥牟镇'

                    },

                    {

                        value: 723,

                        name: '清泉镇'

                    },

                    {

                        value: 325,

                        name: '人和乡'

                    },

                    {

                        value: 932,

                        name: '祥福镇'

                    },

                    {

                        value: 301,

                        name: '姚渡镇'

                    }

                ],

                roseType: 'area',

                radius: [30, 110],

                center: ['75%', '50%']

            }]

        }

        this.myChart.setOption(option)

        this.myChart1.setOption(option1)

    },

    components: {
        limitArea,
        cityArea,
        orgChoose
    },

    methods: {
        toggleStatistic(e) {
            if (e.target.innerHTML === '统计中心') {
                this.$router.push('/integratedMana/statistical')
            }
        },

        toggleType(idx) {

            if (idx === 1) {

                $('#excel').removeClass('el-button--primary').addClass('el-button--default')

                $('#echart').removeClass('el-button--default').addClass('el-button--primary')

                this.excel = false

            } else {

                $('#echart').removeClass('el-button--primary').addClass('el-button--default')

                $('#excel').removeClass('el-button--default').addClass('el-button--primary')

                this.excel = true

            }

        },

        toFull(idx) {

            if (idx === 0) {

                const el = this.$refs.data_excel

                if (screenfull.enabled) {

                    screenfull.request(el)

                }

            } else if (idx === 1) {

                const el = this.$refs.data_tv

                if (screenfull.enabled) {

                    screenfull.request(el)

                }

            }

            if (screenfull.enabled) {

                screenfull.on('change', () => {

                    this.notFull = screenfull.isFullscreen ? false : true

                });

            }

        },

        reSet() {
            //清空区域数据
            this.$refs.area.reSet();
            this.orgName = '';
            this.userForm.orgId = '';
        },
        selectChange(areaData) {
            let serviceArea = this.userForm;
            serviceArea.provinceId = areaData.provinceId;
            serviceArea.cityId = areaData.cityId;
            serviceArea.countryId = areaData.areaId;
            serviceArea.streetId = areaData.streetId;
        },
        //选择机构弹框
        chooseOrg() {
            this.showOrg = true;
        },
        //获取选中机构信息
        setOrgInfo(org) {
            if (org) {
                this.userForm.orgId = org.id;
                this.orgName = org.name;
                //获取数据
                this.getLists();
            }
            this.showOrg = false;
        },

        async getLists() {
            try {
                let res = await this.$http.post('/jay/data/statisticsData', this.userForm);
                let data = res.data.data
                this.info = data.list;
                this.time = data.date;
                this.tableData = [{
                    workerCount: this.info.workerCount,
                    userCount: this.info.userCount,
                    orgCount: this.info.orgCount,
                }];
            } catch (e) {
                console.log(e);
            }
        }

    },

    watch: {

        value() {

            let x = this.value

            let option

            let option1

            if (x === 1) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '个人生活照料服务',

                        type: 'bar',

                        data: [1564, 587, 1326, 498, 783, 314, 418, 723, 325, 932, 301]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '个人生活照料服务',

                        type: 'pie',

                        data: [{

                                value: 1564,

                                name: '城厢镇'

                            },

                            {

                                value: 587,

                                name: '大同镇'

                            },

                            {

                                value: 1326,

                                name: '大弯街道'

                            },

                            {

                                value: 498,

                                name: '福洪乡'

                            },

                            {

                                value: 783,

                                name: '红阳街道'

                            },

                            {

                                value: 314,

                                name: '龙王镇'

                            },

                            {

                                value: 418,

                                name: '弥牟镇'

                            },

                            {

                                value: 723,

                                name: '清泉镇'

                            },

                            {

                                value: 325,

                                name: '人和乡'

                            },

                            {

                                value: 932,

                                name: '祥福镇'

                            },

                            {

                                value: 301,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 2) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '老年护理服务',

                        type: 'bar',

                        data: [452, 225, 769, 221, 663, 174, 153, 213, 75, 412, 68]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '老年护理服务',

                        type: 'pie',

                        data: [{

                                value: 452,

                                name: '城厢镇'

                            },

                            {

                                value: 225,

                                name: '大同镇'

                            },

                            {

                                value: 769,

                                name: '大弯街道'

                            },

                            {

                                value: 221,

                                name: '福洪乡'

                            },

                            {

                                value: 663,

                                name: '红阳街道'

                            },

                            {

                                value: 174,

                                name: '龙王镇'

                            },

                            {

                                value: 153,

                                name: '弥牟镇'

                            },

                            {

                                value: 213,

                                name: '清泉镇'

                            },

                            {

                                value: 75,

                                name: '人和乡'

                            },

                            {

                                value: 412,

                                name: '祥福镇'

                            },

                            {

                                value: 68,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 3) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '协助医疗护理服务',

                        type: 'bar',

                        data: [532, 114, 742, 239, 426, 381, 212, 301, 168, 285, 129]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '协助医疗护理服务',

                        type: 'pie',

                        data: [{

                                value: 532,

                                name: '城厢镇'

                            },

                            {

                                value: 114,

                                name: '大同镇'

                            },

                            {

                                value: 742,

                                name: '大弯街道'

                            },

                            {

                                value: 239,

                                name: '福洪乡'

                            },

                            {

                                value: 426,

                                name: '红阳街道'

                            },

                            {

                                value: 381,

                                name: '龙王镇'

                            },

                            {

                                value: 212,

                                name: '弥牟镇'

                            },

                            {

                                value: 301,

                                name: '清泉镇'

                            },

                            {

                                value: 168,

                                name: '人和乡'

                            },

                            {

                                value: 285,

                                name: '祥福镇'

                            },

                            {

                                value: 129,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 4) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '医疗保健服务',

                        type: 'bar',

                        data: [214, 276, 552, 425, 459, 226, 310, 136, 319, 309, 274]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '医疗保健服务',

                        type: 'pie',

                        data: [{

                                value: 214,

                                name: '城厢镇'

                            },

                            {

                                value: 276,

                                name: '大同镇'

                            },

                            {

                                value: 552,

                                name: '大弯街道'

                            },

                            {

                                value: 425,

                                name: '福洪乡'

                            },

                            {

                                value: 459,

                                name: '红阳街道'

                            },

                            {

                                value: 226,

                                name: '龙王镇'

                            },

                            {

                                value: 310,

                                name: '弥牟镇'

                            },

                            {

                                value: 136,

                                name: '清泉镇'

                            },

                            {

                                value: 319,

                                name: '人和乡'

                            },

                            {

                                value: 309,

                                name: '祥福镇'

                            },

                            {

                                value: 274,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 5) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '养生服务',

                        type: 'bar',

                        data: [152, 43, 1124, 14, 772, 104, 236, 129, 45, 103, 30]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '养生服务',

                        type: 'pie',

                        data: [{

                                value: 152,

                                name: '城厢镇'

                            },

                            {

                                value: 43,

                                name: '大同镇'

                            },

                            {

                                value: 1124,

                                name: '大弯街道'

                            },

                            {

                                value: 14,

                                name: '福洪乡'

                            },

                            {

                                value: 772,

                                name: '红阳街道'

                            },

                            {

                                value: 104,

                                name: '龙王镇'

                            },

                            {

                                value: 236,

                                name: '弥牟镇'

                            },

                            {

                                value: 129,

                                name: '清泉镇'

                            },

                            {

                                value: 45,

                                name: '人和乡'

                            },

                            {

                                value: 103,

                                name: '祥福镇'

                            },

                            {

                                value: 30,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 6) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '心理精神支持服务',

                        type: 'bar',

                        data: [96, 126, 234, 9, 206, 15, 63, 110, 29, 115, 34]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '心理精神支持服务',

                        type: 'pie',

                        data: [{

                                value: 96,

                                name: '城厢镇'

                            },

                            {

                                value: 126,

                                name: '大同镇'

                            },

                            {

                                value: 234,

                                name: '大弯街道'

                            },

                            {

                                value: 9,

                                name: '福洪乡'

                            },

                            {

                                value: 206,

                                name: '红阳街道'

                            },

                            {

                                value: 15,

                                name: '龙王镇'

                            },

                            {

                                value: 63,

                                name: '弥牟镇'

                            },

                            {

                                value: 110,

                                name: '清泉镇'

                            },

                            {

                                value: 29,

                                name: '人和乡'

                            },

                            {

                                value: 115,

                                name: '祥福镇'

                            },

                            {

                                value: 34,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 7) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '膳食服务',

                        type: 'bar',

                        data: [865, 378, 1265, 16, 823, 42, 104, 504, 21, 556, 36]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '膳食服务',

                        type: 'pie',

                        data: [{

                                value: 865,

                                name: '城厢镇'

                            },

                            {

                                value: 378,

                                name: '大同镇'

                            },

                            {

                                value: 1265,

                                name: '大弯街道'

                            },

                            {

                                value: 16,

                                name: '福洪乡'

                            },

                            {

                                value: 823,

                                name: '红阳街道'

                            },

                            {

                                value: 42,

                                name: '龙王镇'

                            },

                            {

                                value: 104,

                                name: '弥牟镇'

                            },

                            {

                                value: 504,

                                name: '清泉镇'

                            },

                            {

                                value: 21,

                                name: '人和乡'

                            },

                            {

                                value: 556,

                                name: '祥福镇'

                            },

                            {

                                value: 36,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 8) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '教育服务',

                        type: 'bar',

                        data: [250, 33, 769, 11, 621, 9, 19, 152, 11, 126, 20]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '教育服务',

                        type: 'pie',

                        data: [{

                                value: 250,

                                name: '城厢镇'

                            },

                            {

                                value: 33,

                                name: '大同镇'

                            },

                            {

                                value: 769,

                                name: '大弯街道'

                            },

                            {

                                value: 11,

                                name: '福洪乡'

                            },

                            {

                                value: 621,

                                name: '红阳街道'

                            },

                            {

                                value: 9,

                                name: '龙王镇'

                            },

                            {

                                value: 19,

                                name: '弥牟镇'

                            },

                            {

                                value: 152,

                                name: '清泉镇'

                            },

                            {

                                value: 11,

                                name: '人和乡'

                            },

                            {

                                value: 126,

                                name: '祥福镇'

                            },

                            {

                                value: 20,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 9) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '休闲娱乐服务',

                        type: 'bar',

                        data: [152, 316, 669, 97, 486, 54, 371, 143, 63, 206, 59]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '休闲娱乐服务',

                        type: 'pie',

                        data: [{

                                value: 152,

                                name: '城厢镇'

                            },

                            {

                                value: 316,

                                name: '大同镇'

                            },

                            {

                                value: 669,

                                name: '大弯街道'

                            },

                            {

                                value: 97,

                                name: '福洪乡'

                            },

                            {

                                value: 486,

                                name: '红阳街道'

                            },

                            {

                                value: 54,

                                name: '龙王镇'

                            },

                            {

                                value: 371,

                                name: '弥牟镇'

                            },

                            {

                                value: 143,

                                name: '清泉镇'

                            },

                            {

                                value: 63,

                                name: '人和乡'

                            },

                            {

                                value: 206,

                                name: '祥福镇'

                            },

                            {

                                value: 59,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 10) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '环境卫生服务',

                        type: 'bar',

                        data: [412, 332, 1423, 156, 723, 88, 493, 225, 35, 514, 32]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '环境卫生服务',

                        type: 'pie',

                        data: [{

                                value: 412,

                                name: '城厢镇'

                            },

                            {

                                value: 332,

                                name: '大同镇'

                            },

                            {

                                value: 1423,

                                name: '大弯街道'

                            },

                            {

                                value: 156,

                                name: '福洪乡'

                            },

                            {

                                value: 723,

                                name: '红阳街道'

                            },

                            {

                                value: 88,

                                name: '龙王镇'

                            },

                            {

                                value: 493,

                                name: '弥牟镇'

                            },

                            {

                                value: 225,

                                name: '清泉镇'

                            },

                            {

                                value: 35,

                                name: '人和乡'

                            },

                            {

                                value: 514,

                                name: '祥福镇'

                            },

                            {

                                value: 32,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 11) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '洗涤服务',

                        type: 'bar',

                        data: [79, 56, 652, 245, 410, 39, 132, 63, 22, 93, 18]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '洗涤服务',

                        type: 'pie',

                        data: [{

                                value: 79,

                                name: '城厢镇'

                            },

                            {

                                value: 56,

                                name: '大同镇'

                            },

                            {

                                value: 652,

                                name: '大弯街道'

                            },

                            {

                                value: 245,

                                name: '福洪乡'

                            },

                            {

                                value: 410,

                                name: '红阳街道'

                            },

                            {

                                value: 39,

                                name: '龙王镇'

                            },

                            {

                                value: 132,

                                name: '弥牟镇'

                            },

                            {

                                value: 63,

                                name: '清泉镇'

                            },

                            {

                                value: 22,

                                name: '人和乡'

                            },

                            {

                                value: 93,

                                name: '祥福镇'

                            },

                            {

                                value: 18,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 12) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '安全保护服务',

                        type: 'bar',

                        data: [36, 44, 22, 85, 55, 8, 20, 18, 49, 42, 33]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '安全保护服务',

                        type: 'pie',

                        data: [{

                                value: 36,

                                name: '城厢镇'

                            },

                            {

                                value: 44,

                                name: '大同镇'

                            },

                            {

                                value: 22,

                                name: '大弯街道'

                            },

                            {

                                value: 85,

                                name: '福洪乡'

                            },

                            {

                                value: 55,

                                name: '红阳街道'

                            },

                            {

                                value: 8,

                                name: '龙王镇'

                            },

                            {

                                value: 20,

                                name: '弥牟镇'

                            },

                            {

                                value: 18,

                                name: '清泉镇'

                            },

                            {

                                value: 49,

                                name: '人和乡'

                            },

                            {

                                value: 42,

                                name: '祥福镇'

                            },

                            {

                                value: 33,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 13) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '助行服务',

                        type: 'bar',

                        data: [15, 23, 141, 23, 78, 12, 84, 55, 10, 28, 11]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '助行服务',

                        type: 'pie',

                        data: [{

                                value: 15,

                                name: '城厢镇'

                            },

                            {

                                value: 23,

                                name: '大同镇'

                            },

                            {

                                value: 141,

                                name: '大弯街道'

                            },

                            {

                                value: 23,

                                name: '福洪乡'

                            },

                            {

                                value: 78,

                                name: '红阳街道'

                            },

                            {

                                value: 12,

                                name: '龙王镇'

                            },

                            {

                                value: 84,

                                name: '弥牟镇'

                            },

                            {

                                value: 55,

                                name: '清泉镇'

                            },

                            {

                                value: 10,

                                name: '人和乡'

                            },

                            {

                                value: 28,

                                name: '祥福镇'

                            },

                            {

                                value: 11,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 14) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '咨询服务',

                        type: 'bar',

                        data: [102, 412, 336, 324, 205, 208, 319, 98, 105, 152, 85]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '咨询服务',

                        type: 'pie',

                        data: [{

                                value: 102,

                                name: '城厢镇'

                            },

                            {

                                value: 412,

                                name: '大同镇'

                            },

                            {

                                value: 336,

                                name: '大弯街道'

                            },

                            {

                                value: 324,

                                name: '福洪乡'

                            },

                            {

                                value: 205,

                                name: '红阳街道'

                            },

                            {

                                value: 208,

                                name: '龙王镇'

                            },

                            {

                                value: 319,

                                name: '弥牟镇'

                            },

                            {

                                value: 98,

                                name: '清泉镇'

                            },

                            {

                                value: 105,

                                name: '人和乡'

                            },

                            {

                                value: 152,

                                name: '祥福镇'

                            },

                            {

                                value: 85,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 15) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '委托代办服务',

                        type: 'bar',

                        data: [365, 112, 461, 103, 265, 36, 82, 182, 137, 206, 76]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '委托代办服务',

                        type: 'pie',

                        data: [{

                                value: 365,

                                name: '城厢镇'

                            },

                            {

                                value: 112,

                                name: '大同镇'

                            },

                            {

                                value: 461,

                                name: '大弯街道'

                            },

                            {

                                value: 103,

                                name: '福洪乡'

                            },

                            {

                                value: 265,

                                name: '红阳街道'

                            },

                            {

                                value: 36,

                                name: '龙王镇'

                            },

                            {

                                value: 82,

                                name: '弥牟镇'

                            },

                            {

                                value: 182,

                                name: '清泉镇'

                            },

                            {

                                value: 137,

                                name: '人和乡'

                            },

                            {

                                value: 206,

                                name: '祥福镇'

                            },

                            {

                                value: 76,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 16) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '通讯服务',

                        type: 'bar',

                        data: [14, 20, 114, 298, 76, 11, 19, 25, 9, 21, 15]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '通讯服务',

                        type: 'pie',

                        data: [{

                                value: 14,

                                name: '城厢镇'

                            },

                            {

                                value: 20,

                                name: '大同镇'

                            },

                            {

                                value: 114,

                                name: '大弯街道'

                            },

                            {

                                value: 298,

                                name: '福洪乡'

                            },

                            {

                                value: 76,

                                name: '红阳街道'

                            },

                            {

                                value: 11,

                                name: '龙王镇'

                            },

                            {

                                value: 19,

                                name: '弥牟镇'

                            },

                            {

                                value: 25,

                                name: '清泉镇'

                            },

                            {

                                value: 9,

                                name: '人和乡'

                            },

                            {

                                value: 21,

                                name: '祥福镇'

                            },

                            {

                                value: 15,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 17) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '其他服务',

                        type: 'bar',

                        data: [165, 35, 78, 39, 55, 10, 66, 75, 14, 91, 19]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '其他服务',

                        type: 'pie',

                        data: [{

                                value: 165,

                                name: '城厢镇'

                            },

                            {

                                value: 35,

                                name: '大同镇'

                            },

                            {

                                value: 78,

                                name: '大弯街道'

                            },

                            {

                                value: 39,

                                name: '福洪乡'

                            },

                            {

                                value: 55,

                                name: '红阳街道'

                            },

                            {

                                value: 10,

                                name: '龙王镇'

                            },

                            {

                                value: 65,

                                name: '弥牟镇'

                            },

                            {

                                value: 75,

                                name: '清泉镇'

                            },

                            {

                                value: 14,

                                name: '人和乡'

                            },

                            {

                                value: 91,

                                name: '祥福镇'

                            },

                            {

                                value: 19,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 18) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '总需求数',

                        type: 'bar',

                        data: [5465, 3129, 10677, 2803, 7106, 1731, 3101, 3152, 1437, 4196, 1240]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '总需求数',

                        type: 'pie',

                        data: [{

                                value: 5465,

                                name: '城厢镇'

                            },

                            {

                                value: 3129,

                                name: '大同镇'

                            },

                            {

                                value: 10677,

                                name: '大弯街道'

                            },

                            {

                                value: 2803,

                                name: '福洪乡'

                            },

                            {

                                value: 7106,

                                name: '红阳街道'

                            },

                            {

                                value: 1731,

                                name: '龙王镇'

                            },

                            {

                                value: 3101,

                                name: '弥牟镇'

                            },

                            {

                                value: 3152,

                                name: '清泉镇'

                            },

                            {

                                value: 1437,

                                name: '人和乡'

                            },

                            {

                                value: 4196,

                                name: '祥福镇'

                            },

                            {

                                value: 1240,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 19) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '各村镇需求占比',

                        type: 'bar',

                        data: [5465, 3129, 10677, 2803, 7106, 1731, 3101, 3152, 1437, 4196, 1240]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '各村镇需求占比',

                        type: 'pie',

                        data: [{

                                value: 5465,

                                name: '城厢镇'

                            },

                            {

                                value: 3129,

                                name: '大同镇'

                            },

                            {

                                value: 10677,

                                name: '大弯街道'

                            },

                            {

                                value: 2803,

                                name: '福洪乡'

                            },

                            {

                                value: 7106,

                                name: '红阳街道'

                            },

                            {

                                value: 1731,

                                name: '龙王镇'

                            },

                            {

                                value: 3101,

                                name: '弥牟镇'

                            },

                            {

                                value: 3152,

                                name: '清泉镇'

                            },

                            {

                                value: 1437,

                                name: '人和乡'

                            },

                            {

                                value: 4191,

                                name: '祥福镇'

                            },

                            {

                                value: 1240,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            } else if (x === 20) {

                option = {

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c}"

                    },

                    xAxis: {

                        data: ["城厢镇", "大同镇", "大弯街道", "福洪乡", "红阳街道", "龙王镇", "弥牟镇", "清泉镇", "人和乡", "祥福镇", "姚渡镇"],

                        show: true

                    },

                    yAxis: {

                        show: true

                    },

                    series: [{

                        name: '总人数',

                        type: 'bar',

                        data: [1685, 665, 1612, 659, 1099, 589, 879, 1027, 474, 1247, 477]

                    }]

                }

                option1 = {

                    xAxis: {

                        show: false

                    },

                    yAxis: {

                        show: false

                    },

                    tooltip: {

                        trigger: 'item',

                        formatter: "{a} <br/>{b} : {c} ({d}%)"

                    },

                    series: [{

                        name: '总人数',

                        type: 'pie',

                        data: [{

                                value: 1685,

                                name: '城厢镇'

                            },

                            {

                                value: 665,

                                name: '大同镇'

                            },

                            {

                                value: 1612,

                                name: '大弯街道'

                            },

                            {

                                value: 659,

                                name: '福洪乡'

                            },

                            {

                                value: 1099,

                                name: '红阳街道'

                            },

                            {

                                value: 589,

                                name: '龙王镇'

                            },

                            {

                                value: 879,

                                name: '弥牟镇'

                            },

                            {

                                value: 1027,

                                name: '清泉镇'

                            },

                            {

                                value: 474,

                                name: '人和乡'

                            },

                            {

                                value: 1247,

                                name: '祥福镇'

                            },

                            {

                                value: 477,

                                name: '姚渡镇'

                            }

                        ]

                    }]

                }

            }

            this.myChart.setOption(option)

            this.myChart1.setOption(option1)

        },
        orgName () {
            this.$http.post('/apis/data/statisticsGraphics', {
                orgId: this.userForm.orgId,
                serviceDemand: 1
            }).then(res =>{
                console.log(res)
            })
        }
    }
}
</script>

<style lang="scss" scoped>
    .info-container {
        font-family: PingFangSC-Medium, "PingFang SC", "Microsoft YaHei", "\5FAE\8F6F\96C5\9ED1", "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;
        padding-top: 15px;
        position: relative;
    }

    .tab-row {
        border-bottom: 1px solid #d1dbe5;
    }

    .tab {
        bottom: -1px;
        position: relative;
        padding: 0 30px;
        border: 1px solid #d1dbe5;
        border-radius: 4px 4px 0 0;
        display: inline-block;
        line-height: 40px;
        font-size: 18px;
        color: #616d80;
        cursor: pointer;
    }

    .tab.active {
        border-bottom: 1px solid #fff;
    }

    .page-content {
        border: 1px solid #d1dbe5;
        border-top: 0;
    }

    .info {
        height: 100vh;
        width: 100vw;
        box-sizing: border-box;
        margin-top: -1px;
        padding-top: 10px;
        padding-left: 38px;
        padding-bottom: 50px;
    }

    .wrapper {
        margin-top: 50px;
        position: relative;
    }

    .wrapper_data {
        position: relative;
        display: flex;
        flex-flow: row nowrap;
    }

    .full_icon {
        position: absolute;
        top: 0;
        right: 300px;
        height: 36px;
    }

    .main_wrapper {
        display: flex;
        flex-flow: row nowrap;
        margin-top: 50px;
    }

    .fullwrapper {
        position: absolute;
        top: 0;
        right: 300px;
        display: flex;
        flex-flow: row nowrap;
    }

    .fullwrapper img {
        margin-left: 10px;
        height: 36px;
    }

    .icon {
        width: 1em;
        height: 1em;
        vertical-align: -0.15em;
        fill: currentColor;
        overflow: hidden;
        margin-right: 4px;
    }

    .excelImg {
        width: 70%;
    }

    .infos {
        margin-top: 10px;
        border: 1px solid #d9d3f8;
        background-color: #fbfbfb;
        padding-top: 10px;
        padding-left: 38px;
        padding-bottom: 50px;
        .show-info {
            h5 {
                font-size: 22px;
                font-family: PingFangSC-Medium;
                color: #616D80;
                border-left: 2px solid #D8D8D8;
                padding-left: 14px;
                margin-bottom: 75px;
            }
            ul {
                margin-bottom: 50px;
                li {
                    float: left;
                    width: 384px;
                    height: 245px;
                    margin-left: 20px;
                    background-size: cover;
                    .title {
                        margin-top: 34px;
                        margin-left: 50px;
                        font-family: PingFangSC-Medium;
                        font-size: 26px;
                        color: #616D80;
                    }
                    .order {
                        margin-top: 46px;
                        font-family: Dosis-Medium;
                        font-size: 30px;
                        color: #5D656F;
                        margin-left: 47px;
                    }
                    .cash {
                        margin-top: 65px;
                        font-family: PingFangSC-Medium;
                        font-size: 30px;
                        color: #B2BFD1;
                        margin-left: 44px;
                    }
                }
                li.left {
                    background-image: url("//static.17link.cc/mp/history.png");
                }
                li.middle {
                    .title {
                        margin-top: 31px;
                        margin-left: 66px;
                    }
                    .order {
                        margin-left: 64px;
                    }
                    .cash {
                        margin-left: 66px;
                    }
                    background-image: url("//static.17link.cc/mp/newOrder.png");
                }
                li.right {
                    background-image: url("//static.17link.cc/mp/doneOrder.png");
                }
            }
        }
    }
</style>